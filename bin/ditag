#!/usr/bin/env bash

if [ "$#" -eq 0 ]; then
  echo "âš ï¸ No argument given. Exiting..."
  echo "Usage: ditag IMAGE_NAME"
  echo "Example: ditag nginx"
  exit 1
fi

if [ "$#" -gt 1 ]; then
  echo "âš ï¸ Too many arguments given. Only 1 argument allowed. Exiting..."
  echo "Usage: ditag IMAGE_NAME"
  echo "Example: ditag nginx"
  exit 1
fi

if ! command -v regctl &>/dev/null; then
  echo "âŒ ERROR: 'regctl' not installed. Exiting..."
  exit 1
fi

echo "ğŸ”¹ Running: regctl tag ls '$1' | sort -V -r | bat"

regctl tag ls "$1" | sort -V -r | bat
